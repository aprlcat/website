---
import DefaultLayout from '../layouts/Default.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import { getCollection } from "astro:content";
import FormattedDate from '../components/FormattedDate.astro';
import Title from '../components/Title.astro';
import ProjectMinimal from '../components/ProjectMinimal.astro';
import Article from '../components/Article.astro';

const posts = await getCollection('blog');
import { PROJECTS } from '../consts';
---

<DefaultLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>

<section class="mb-8 w-full">
  <div class="flex flex-col gap-4">
    <h1 class="text-4xl mb-4">Hello, I&apos;m <span class="text-special">isabel</span></h1>

    <p>
      I am currently studying computer science, as a third year student at
      Aberystwyth University. A significant amount of my time goes into being a
      <a target="_blank" class="text-special underline" href="https://github.com/NixOS/org/blob/main/doc/nixpkgs-committers.md#nixpkgs-committers">Nixpkgs committer</a>,
      where I help maintain the Nixpkgs repository. The rest of my time is spent on
      <a target="_blank" class="text-special underline" href="https://github.com/catppuccin/catppuccin">Catppuccin</a>
      where I make some themes.
    </p>
  </div>
</section>

<section class="mb-8 w-full">
  <Title title="Blog" description="The parts of my life that I put out into the world" />

  <div class="grid lg:grid-cols-2 gap-4">
    { posts.map((post, index) => {
      if (index >= 3) return null;

      return (
        <Article id={post.id} {...post.data} compact={true} />
      );
    }) }

    <a class="ring-inset ring-1 ring-card bg-bg-lighter p-4 rounded-xl text-center content-center group text-fg hover:text-special transition ease-in-out duration-200" href="/blog/">
      See more
      <span aria-hidden="true" class="inline-block translate-x-0 group-hover:translate-x-1 transition-transform ease-in-out duration-200">
        →
      </span>
    </a>
  </div>
</section>

<section class="mb-8 w-full">
  <Title title="Projects" description="A collection of projects that I maintain" />

  <div class="grid lg:grid-cols-2 gap-4">
    { PROJECTS.map((project, index) => {
      if (index >= 3) return null;

      return (
        <ProjectMinimal {...project} />
      )
    }) }

    <a class="ring-inset ring-1 ring-card bg-bg-lighter p-4 rounded-xl text-center content-center group text-fg hover:text-special transition-all ease-in-out duration-200" href="/projects/">
      See more
      <span aria-hidden="true" class="inline-block translate-x-0 group-hover:translate-x-1 transition-transform ease-in-out duration-200">
        →
      </span>
    </a>
  </div>
</section>

<section class="mb-8 w-full">
  <Title title="Friends" description="Want to see some cool badges" />

  <div class="grid xl:grid-cols-6 gap-4">
    <a class="xl:col-start-2 xl:col-span-4 ring-inset ring-1 ring-card bg-bg-lighter p-4 rounded-xl text-center content-center group text-fg hover:text-special transition-all ease-in-out duration-200" href="/friends/">
      Check out my friends
      <span aria-hidden="true" class="inline-block translate-x-0 group-hover:translate-x-1 transition-transform ease-in-out duration-200">
        →
      </span>
    </a>
  </div>
</section>

</DefaultLayout>
